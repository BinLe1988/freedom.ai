# Freedom.AI ç”¨æˆ·ç³»ç»Ÿé›†æˆæŒ‡å—

## ğŸ¯ ç³»ç»Ÿæ¦‚è¿°

Freedom.AI ç”¨æˆ·ç³»ç»Ÿæ˜¯ä¸€ä¸ªå®Œæ•´çš„ç”¨æˆ·è¡Œä¸ºé‡‡é›†å’Œåˆ†æå¹³å°ï¼Œé€šè¿‡æ™ºèƒ½åŒ–çš„åå¥½å­¦ä¹ ï¼Œä¸ºæ¯ä¸ªç”¨æˆ·æä¾›ä¸ªæ€§åŒ–çš„è‡ªç”±åº¦æå‡å»ºè®®å’Œæœºä¼šæ¨èã€‚

### ğŸŒŸ æ ¸å¿ƒç‰¹æ€§

**1. ç”¨æˆ·ç®¡ç†**
- ç”¨æˆ·æ³¨å†Œã€ç™»å½•ã€è®¤è¯
- ç”¨æˆ·æ¡£æ¡ˆå’Œåå¥½ç®¡ç†
- ä¼šè¯ç®¡ç†å’Œå®‰å…¨æ§åˆ¶

**2. è¡Œä¸ºè·Ÿè¸ª**
- å…¨æ–¹ä½ç”¨æˆ·è¡Œä¸ºè®°å½•
- å®æ—¶è¡Œä¸ºåˆ†æå’Œæ¨¡å¼è¯†åˆ«
- ç”¨æˆ·æ—…ç¨‹å¯è§†åŒ–

**3. åå¥½å­¦ä¹ **
- æ™ºèƒ½åå¥½æ¨æ–­
- ä¸ªæ€§åŒ–æ¨èç®—æ³•
- åŠ¨æ€åå¥½æ›´æ–°

**4. æ•°æ®åˆ†æ**
- ç”¨æˆ·åˆ†ç¾¤åˆ†æ
- è½¬åŒ–æ¼æ–—åˆ†æ
- ç•™å­˜ç‡åˆ†æ

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
ç”¨æˆ·ç³»ç»Ÿæ¶æ„
â”œâ”€â”€ ç”¨æˆ·ç®¡ç†å±‚
â”‚   â”œâ”€â”€ ç”¨æˆ·æ³¨å†Œ/ç™»å½•
â”‚   â”œâ”€â”€ æ¡£æ¡ˆç®¡ç†
â”‚   â””â”€â”€ åå¥½è®¾ç½®
â”œâ”€â”€ è¡Œä¸ºè·Ÿè¸ªå±‚
â”‚   â”œâ”€â”€ è¡Œä¸ºè®°å½•
â”‚   â”œâ”€â”€ ä¼šè¯ç®¡ç†
â”‚   â””â”€â”€ æ•°æ®é‡‡é›†
â”œâ”€â”€ åˆ†æå¼•æ“å±‚
â”‚   â”œâ”€â”€ è¡Œä¸ºåˆ†æ
â”‚   â”œâ”€â”€ åå¥½å­¦ä¹ 
â”‚   â””â”€â”€ ä¸ªæ€§åŒ–æ¨è
â””â”€â”€ æ•°æ®å­˜å‚¨å±‚
    â”œâ”€â”€ ç”¨æˆ·æ•°æ®
    â”œâ”€â”€ è¡Œä¸ºæ•°æ®
    â””â”€â”€ åˆ†æç»“æœ
```

## ğŸ“Š æµ‹è¯•ç»“æœ

æ ¹æ®æœ€æ–°æµ‹è¯•ç»“æœï¼š

### âœ… æ­£å¸¸åŠŸèƒ½ (5/6 é€šè¿‡)
- **ç”¨æˆ·æ•°æ®åº“**: ç”¨æˆ·åˆ›å»ºã€æ¡£æ¡ˆç®¡ç†ã€åå¥½è®¾ç½® âœ…
- **è¡Œä¸ºåˆ†æ**: ç”¨æˆ·æ—…ç¨‹ã€åŠŸèƒ½é‡‡ç”¨ã€ä¸ªæ€§åŒ–æ´å¯Ÿ âœ…
- **åå¥½å­¦ä¹ **: æ™ºèƒ½åå¥½æ¨æ–­ã€æœç´¢æ¨¡å¼åˆ†æ âœ…
- **ä¸ªæ€§åŒ–æ¨è**: åŸºäºåå¥½çš„èŒä½æ¨è âœ…
- **æ•°æ®å¯¼å‡º**: å®Œæ•´ç”¨æˆ·æ•°æ®å¯¼å‡º âœ…

### âš ï¸ éœ€è¦ä¾èµ–
- **è®¤è¯ç³»ç»Ÿ**: éœ€è¦å®‰è£…JWTåº“ (`pip install PyJWT`) æˆ–ä½¿ç”¨ç®€åŒ–ç‰ˆæœ¬

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. åŸºç¡€æµ‹è¯•
```bash
# è¿è¡Œç”¨æˆ·ç³»ç»Ÿæµ‹è¯•
python3 test_user_system.py
```

### 2. å¯åŠ¨Webåº”ç”¨
```bash
# å®‰è£…ä¾èµ– (å¯é€‰)
pip3 install flask PyJWT

# å¯åŠ¨é›†æˆç”¨æˆ·ç³»ç»Ÿçš„Webåº”ç”¨
python3 web/app_with_auth.py

# è®¿é—® http://localhost:5000
```

### 3. ä½¿ç”¨ç®€åŒ–è®¤è¯ç‰ˆæœ¬
```bash
# å¦‚æœä¸æƒ³å®‰è£…JWTï¼Œå¯ä»¥ä½¿ç”¨ç®€åŒ–ç‰ˆæœ¬
python3 user_system/simple_auth.py
```

## ğŸ“ˆ ç”¨æˆ·è¡Œä¸ºé‡‡é›†

### è¡Œä¸ºç±»å‹
ç³»ç»Ÿè‡ªåŠ¨è·Ÿè¸ªä»¥ä¸‹ç”¨æˆ·è¡Œä¸ºï¼š

```python
class ActionType(Enum):
    LOGIN = "login"                    # ç™»å½•è¡Œä¸º
    LOGOUT = "logout"                  # ç™»å‡ºè¡Œä¸º
    ASSESSMENT = "assessment"          # è‡ªç”±åº¦è¯„ä¼°
    OPPORTUNITY_VIEW = "opportunity_view"    # æŸ¥çœ‹æœºä¼š
    OPPORTUNITY_APPLY = "opportunity_apply"  # ç”³è¯·èŒä½
    LEARNING_PLAN = "learning_plan"    # å­¦ä¹ è§„åˆ’
    SKILL_UPDATE = "skill_update"      # æŠ€èƒ½æ›´æ–°
    PREFERENCE_UPDATE = "preference_update"  # åå¥½æ›´æ–°
    SEARCH = "search"                  # æœç´¢è¡Œä¸º
    FILTER = "filter"                  # ç­›é€‰è¡Œä¸º
    EXPORT = "export"                  # æ•°æ®å¯¼å‡º
    SHARE = "share"                    # åˆ†äº«è¡Œä¸º
```

### è¡Œä¸ºè®°å½•ç¤ºä¾‹
```python
# è®°å½•ç”¨æˆ·è¯„ä¼°è¡Œä¸º
db.log_user_action(
    user_id="user_123",
    action_type=ActionType.ASSESSMENT,
    details={
        "assessment_type": "freedom_score",
        "score": 0.75,
        "duration": 300,
        "dimensions": ["financial", "time", "location", "skill"]
    }
)

# è®°å½•æœºä¼šæµè§ˆè¡Œä¸º
db.log_user_action(
    user_id="user_123",
    action_type=ActionType.OPPORTUNITY_VIEW,
    details={
        "opportunity_id": "job_001",
        "job_type": "remote",
        "salary_range": "25000-40000",
        "skills_required": ["Python", "AI"],
        "view_duration": 120
    }
)
```

## ğŸ§  åå¥½å­¦ä¹ ç®—æ³•

### 1. å·¥ä½œåå¥½å­¦ä¹ 
```python
# åŸºäºç”¨æˆ·æŸ¥çœ‹çš„èŒä½å­¦ä¹ åå¥½
def learn_job_preferences(user_actions):
    remote_views = 0
    total_views = 0
    
    for action in user_actions:
        if action.action_type == ActionType.OPPORTUNITY_VIEW:
            total_views += 1
            if action.details.get('remote_friendly'):
                remote_views += 1
    
    remote_preference = remote_views / total_views if total_views > 0 else 0
    return remote_preference
```

### 2. æŠ€èƒ½å…´è¶£å­¦ä¹ 
```python
# åŸºäºæœç´¢å’Œå­¦ä¹ è¡Œä¸ºæ¨æ–­æŠ€èƒ½å…´è¶£
def learn_skill_interests(user_actions):
    skill_counts = {}
    
    for action in user_actions:
        if action.action_type == ActionType.SEARCH:
            keywords = action.details.get('keywords', [])
            for keyword in keywords:
                skill_counts[keyword] = skill_counts.get(keyword, 0) + 1
        
        elif action.action_type == ActionType.LEARNING_PLAN:
            skills = action.details.get('target_skills', [])
            for skill in skills:
                skill_counts[skill] = skill_counts.get(skill, 0) + 2  # å­¦ä¹ è®¡åˆ’æƒé‡æ›´é«˜
    
    return sorted(skill_counts.items(), key=lambda x: x[1], reverse=True)
```

### 3. æ´»è·ƒæ—¶é—´åˆ†æ
```python
# åˆ†æç”¨æˆ·æ´»è·ƒæ—¶é—´æ¨¡å¼
def analyze_activity_patterns(user_actions):
    hour_counts = {}
    
    for action in user_actions:
        hour = action.timestamp.hour
        hour_counts[hour] = hour_counts.get(hour, 0) + 1
    
    # æ‰¾å‡ºæœ€æ´»è·ƒçš„æ—¶é—´æ®µ
    most_active_hour = max(hour_counts, key=hour_counts.get)
    
    # åˆ†ç±»æ—¶é—´åå¥½
    if 6 <= most_active_hour <= 11:
        time_preference = "morning"
    elif 12 <= most_active_hour <= 17:
        time_preference = "afternoon"
    elif 18 <= most_active_hour <= 23:
        time_preference = "evening"
    else:
        time_preference = "night"
    
    return time_preference, most_active_hour
```

## ğŸ¯ ä¸ªæ€§åŒ–æ¨è

### æ¨èç®—æ³•
```python
def generate_personalized_recommendations(user_id):
    # è·å–ç”¨æˆ·è¡Œä¸ºåˆ†æ
    behavior_analysis = db.analyze_user_behavior(user_id)
    
    recommendations = []
    
    # åŸºäºæ´»è·ƒæ—¶é—´çš„æ¨è
    if behavior_analysis.get('most_active_hour'):
        hour = behavior_analysis['most_active_hour']
        if 6 <= hour <= 11:
            recommendations.append("æ‚¨æ˜¯æ™¨å‹äººï¼Œå»ºè®®åœ¨ä¸Šåˆå®‰æ’é‡è¦çš„å­¦ä¹ å’Œè§„åˆ’æ´»åŠ¨")
    
    # åŸºäºæœç´¢æ¨¡å¼çš„æ¨è
    popular_keywords = behavior_analysis.get('search_patterns', {}).get('popular_keywords', {})
    if popular_keywords:
        top_keyword = max(popular_keywords, key=popular_keywords.get)
        recommendations.append(f"æ‚¨ç»å¸¸æœç´¢'{top_keyword}'ç›¸å…³å†…å®¹ï¼Œå»ºè®®æ·±å…¥å­¦ä¹ è¿™ä¸ªé¢†åŸŸ")
    
    # åŸºäºèŒä½åå¥½çš„æ¨è
    job_prefs = behavior_analysis.get('job_preferences', {})
    if job_prefs.get('remote_preference', 0) > 0.7:
        recommendations.append("æ‚¨åå¥½è¿œç¨‹å·¥ä½œï¼Œå»ºè®®å‘å±•è¿œç¨‹åä½œå’Œè‡ªæˆ‘ç®¡ç†æŠ€èƒ½")
    
    return recommendations
```

## ğŸ“Š æ•°æ®åˆ†æåŠŸèƒ½

### 1. ç”¨æˆ·åˆ†ç¾¤
```python
# æ ¹æ®æ´»è·ƒåº¦å’ŒåŠŸèƒ½ä½¿ç”¨æƒ…å†µåˆ†ç¾¤
segments = {
    'power_users': [],      # é«˜æ´»è·ƒç”¨æˆ· (50+ è¡Œä¸º, 5+ åŠŸèƒ½)
    'regular_users': [],    # å¸¸è§„ç”¨æˆ· (20+ è¡Œä¸º, 3+ åŠŸèƒ½)
    'casual_users': [],     # è½»åº¦ç”¨æˆ· (5+ è¡Œä¸º)
    'inactive_users': []    # ä¸æ´»è·ƒç”¨æˆ·
}
```

### 2. è½¬åŒ–æ¼æ–—
```python
# å®šä¹‰ç”¨æˆ·è½¬åŒ–è·¯å¾„
funnel_steps = [
    ('registration', ActionType.LOGIN),
    ('first_assessment', ActionType.ASSESSMENT),
    ('opportunity_exploration', ActionType.OPPORTUNITY_VIEW),
    ('learning_planning', ActionType.LEARNING_PLAN),
    ('job_application', ActionType.OPPORTUNITY_APPLY)
]
```

### 3. ç•™å­˜åˆ†æ
```python
# æŒ‰å‘¨åˆ†æç”¨æˆ·ç•™å­˜ç‡
def analyze_weekly_retention(users_data, actions_data):
    weekly_cohorts = {}
    
    # æŒ‰æ³¨å†Œå‘¨åˆ†ç»„ç”¨æˆ·
    for user_id, first_activity in user_first_activity.items():
        week_number = (first_activity - start_date).days // 7
        if week_number not in weekly_cohorts:
            weekly_cohorts[week_number] = set()
        weekly_cohorts[week_number].add(user_id)
    
    # è®¡ç®—å„å‘¨ç•™å­˜ç‡
    retention_data = []
    for week, cohort_users in weekly_cohorts.items():
        # ... è®¡ç®—ç•™å­˜ç‡é€»è¾‘
    
    return retention_data
```

## ğŸ”’ éšç§å’Œå®‰å…¨

### æ•°æ®ä¿æŠ¤
- **æœ¬åœ°å­˜å‚¨**: æ‰€æœ‰ç”¨æˆ·æ•°æ®å­˜å‚¨åœ¨æœ¬åœ°JSONæ–‡ä»¶ä¸­
- **å¯†ç åŠ å¯†**: ä½¿ç”¨SHA-256 + ç›å€¼åŠ å¯†å­˜å‚¨å¯†ç 
- **ä¼šè¯ç®¡ç†**: å®‰å…¨çš„ä¼šè¯åˆ›å»ºå’Œè¿‡æœŸç®¡ç†
- **æ•°æ®å¯¼å‡º**: ç”¨æˆ·å¯éšæ—¶å¯¼å‡ºè‡ªå·±çš„æ‰€æœ‰æ•°æ®

### éšç§æ§åˆ¶
```python
class UserPreferences:
    # éšç§åå¥½è®¾ç½®
    data_sharing_level: str = "medium"  # low, medium, high
    profile_visibility: str = "private"  # public, private, connections
    email_notifications: bool = True
    behavior_tracking: bool = True
```

## ğŸ“ˆ å®é™…åº”ç”¨æ•ˆæœ

### æµ‹è¯•ç”¨æˆ·è¡Œä¸ºå­¦ä¹ ç»“æœ
```
âœ… å­¦ä¹ åˆ°çš„ç”¨æˆ·åå¥½:
   è¿œç¨‹å·¥ä½œåå¥½: 28.6%
   æŸ¥çœ‹èŒä½æ•°: 6
   ç”³è¯·èŒä½æ•°: 1
   çƒ­é—¨æœç´¢è¯:
     â€¢ AI: 2 æ¬¡
     â€¢ remote: 2 æ¬¡
     â€¢ artificial intelligence: 1 æ¬¡
   æ„Ÿå…´è¶£çš„æŠ€èƒ½:
     â€¢ Pythonè¿›é˜¶: 1 æ¬¡
     â€¢ æ•°æ®ç§‘å­¦: 1 æ¬¡
     â€¢ æ·±åº¦å­¦ä¹ : 1 æ¬¡
```

### ä¸ªæ€§åŒ–æ¨èç¤ºä¾‹
```
âœ… ä¸ªæ€§åŒ–æ´å¯Ÿ: 2 æ¡æ¨è
   æ¨èç¤ºä¾‹:
     â€¢ æ‚¨ä¹ æƒ¯åœ¨æ™šä¸Šæ´»è·ƒï¼Œå¯ä»¥åˆ©ç”¨æ™šé—´æ—¶é—´è¿›è¡ŒæŠ€èƒ½æå‡
     â€¢ æ‚¨ç»å¸¸æœç´¢'Python'ç›¸å…³å†…å®¹ï¼Œå»ºè®®æ·±å…¥å­¦ä¹ è¿™ä¸ªé¢†åŸŸ

âœ… åŸºäºç”¨æˆ·åå¥½æ¨è 4 ä¸ªèŒä½:
   1. æ•°æ®ç§‘å­¦å®¶ - DataTech Solutions
      åŒ¹é…åº¦: 50.0%, è‡ªç”±åº¦: 90.0%
      è–ªèµ„: 30000-50000, ç±»å‹: full-time
   ğŸ’¡ æ¨èç†ç”±: åŸºäºæ‚¨çš„æœç´¢å…´è¶£ (AI, remote)
```

## ğŸ› ï¸ å¼€å‘å’Œæ‰©å±•

### æ·»åŠ æ–°çš„è¡Œä¸ºç±»å‹
```python
# 1. åœ¨models.pyä¸­æ·»åŠ æ–°çš„ActionType
class ActionType(Enum):
    # ... ç°æœ‰ç±»å‹
    NEW_ACTION = "new_action"

# 2. åœ¨ç›¸åº”çš„åŠŸèƒ½ä¸­è®°å½•è¡Œä¸º
db.log_user_action(
    user_id,
    ActionType.NEW_ACTION,
    {'custom_data': 'value'}
)

# 3. åœ¨åˆ†æå™¨ä¸­æ·»åŠ å¤„ç†é€»è¾‘
def analyze_new_action_patterns(self, actions):
    # åˆ†ææ–°è¡Œä¸ºçš„é€»è¾‘
    pass
```

### è‡ªå®šä¹‰æ¨èç®—æ³•
```python
class CustomRecommendationEngine:
    def __init__(self, db: UserDatabase):
        self.db = db
    
    def generate_recommendations(self, user_id: str) -> List[str]:
        # è‡ªå®šä¹‰æ¨èé€»è¾‘
        behavior_data = self.db.analyze_user_behavior(user_id)
        
        # åŸºäºä¸šåŠ¡é€»è¾‘ç”Ÿæˆæ¨è
        recommendations = []
        # ... è‡ªå®šä¹‰ç®—æ³•
        
        return recommendations
```

## ğŸš€ éƒ¨ç½²å’Œè¿ç»´

### ç”Ÿäº§ç¯å¢ƒé…ç½®
```python
# config.json ç”Ÿäº§ç¯å¢ƒé…ç½®
{
    "database": {
        "type": "postgresql",  # ç”Ÿäº§ç¯å¢ƒå»ºè®®ä½¿ç”¨æ•°æ®åº“
        "connection_string": "postgresql://user:pass@localhost/freedomai"
    },
    "auth": {
        "jwt_secret": "your-secret-key",
        "token_expiry_hours": 24,
        "session_timeout_hours": 24
    },
    "analytics": {
        "batch_size": 1000,
        "analysis_interval_hours": 6,
        "retention_days": 365
    }
}
```

### æ€§èƒ½ä¼˜åŒ–
- **æ‰¹é‡å¤„ç†**: å®šæœŸæ‰¹é‡åˆ†æç”¨æˆ·è¡Œä¸º
- **ç¼“å­˜æœºåˆ¶**: ç¼“å­˜é¢‘ç¹è®¿é—®çš„åˆ†æç»“æœ
- **æ•°æ®æ¸…ç†**: å®šæœŸæ¸…ç†è¿‡æœŸçš„ä¼šè¯å’Œä»¤ç‰Œ
- **ç´¢å¼•ä¼˜åŒ–**: ä¸ºæŸ¥è¯¢é¢‘ç¹çš„å­—æ®µå»ºç«‹ç´¢å¼•

## ğŸ“ æŠ€æœ¯æ”¯æŒ

### å¸¸è§é—®é¢˜
**Q: å¦‚ä½•é‡ç½®ç”¨æˆ·æ•°æ®ï¼Ÿ**
```bash
# åˆ é™¤æµ‹è¯•æ•°æ®ç›®å½•
rm -rf ./test_data
# é‡æ–°è¿è¡Œæµ‹è¯•
python3 test_user_system.py
```

**Q: å¦‚ä½•å¤‡ä»½ç”¨æˆ·æ•°æ®ï¼Ÿ**
```bash
# å¤‡ä»½æ•´ä¸ªæ•°æ®ç›®å½•
cp -r ./data ./data_backup_$(date +%Y%m%d)
```

**Q: å¦‚ä½•æ‰©å±•åˆ°å¤šç”¨æˆ·å¹¶å‘ï¼Ÿ**
- ä½¿ç”¨æ•°æ®åº“æ›¿ä»£JSONæ–‡ä»¶å­˜å‚¨
- å®ç°åˆ†å¸ƒå¼ä¼šè¯ç®¡ç†
- æ·»åŠ ç¼“å­˜å±‚æå‡æ€§èƒ½

---

**Freedom.AI ç”¨æˆ·ç³»ç»Ÿ** - è®©æ¯ä¸ªç”¨æˆ·çš„è‡ªç”±æ¢ç´¢ä¹‹æ—…éƒ½ç‹¬ä¸€æ— äºŒï¼ ğŸš€

é€šè¿‡æ™ºèƒ½åŒ–çš„è¡Œä¸ºåˆ†æå’Œåå¥½å­¦ä¹ ï¼Œæˆ‘ä»¬ä¸ä»…å¸®åŠ©ç”¨æˆ·æ‰¾åˆ°æœ€é€‚åˆçš„æœºä¼šï¼Œæ›´é‡è¦çš„æ˜¯ç†è§£æ¯ä¸ªäººç‹¬ç‰¹çš„è‡ªç”±è¿½æ±‚æ–¹å¼ï¼Œæä¾›çœŸæ­£ä¸ªæ€§åŒ–çš„æŒ‡å¯¼å’Œå»ºè®®ã€‚
